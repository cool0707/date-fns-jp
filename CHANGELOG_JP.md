# date-fns-jp 変更履歴

このファイルには date-fns-jp 独自の変更のみが記載されています。
オリジナルの date-fns の変更履歴については [CHANGELOG.md](./CHANGELOG.md) をご覧ください。

**注記**: バージョン番号は date-fns のオリジナルバージョン（4.1.0）に追加バージョンを付与しています（4.1.0.0, 4.1.0.1）


## [4.1.0.1] - 2025-01-16

### 追加

- **元号の強制変換機能**: `forceJpEra` オプションを追加
  - 実際の元号に関係なく、指定した元号で日付をフォーマット可能
  - 例: 平成10年（1998年）を昭和73年として表示
  - 対応する元号: 明治(1)、大正(2)、昭和(3)、平成(4)、令和(5)

### 変更

- **デフォルトロケール**: ビルド成果物のデフォルトロケールを日本語（`ja`）に設定
  - テスト環境では引き続き英語ロケールを使用
  - CDN/npm パッケージでは日本語がデフォルトに
  - ビルドスクリプト（`package.sh`）でロケールの自動切り替えを実装

### 内部変更

- `getJpEraYear` 関数に `forceEra` パラメータを追加
- `FormatOptions` に `JpEraOptions` インターフェースを追加
- フォーマッター（`N`および`n`）で`forceJpEra`オプションをサポート

## [4.1.0.0] - 2025-11-14

### 追加

- **日本の元号（和暦）サポート**: `format` および `parse` 関数で和暦を扱うための新しいトークンを追加
  - フォーマット用トークン:
    - `NNNN`: 元号の正式名称（例: 令和）
    - `NNN`: 元号の漢字略称（例: 令）
    - `NN`: 元号の英字略称（例: R）
    - `N`: 元号の数字番号（例: 5）
    - `nn`: 和暦年（ゼロパディング、例: 05）
    - `n`: 和暦年（パディングなし、例: 5）
    - `no`: 和暦年（元年表記）
  - パース用パーサー:
    - `JpEraParser`: 元号のパース（N, NN, NNN, NNNN）
    - `JpEraYearParser`: 和暦年のパース（n, nn, no）

- **元号関連ヘルパー関数**:
  - `getJpEraInfo`: 日付から元号情報を取得
  - `getJpEraYear`: 日付から和暦年を取得
  - `jpEraToDate`: 元号と和暦年から日付を生成

- **ロケール機能の拡張**:
  - 日本語ロケール（`ja`, `ja-Hira`）に元号のローカライズ機能を追加
  - `jpEra`: 元号のローカライズ関数
  - `jpEraFirstYear`: 元年のローカライズ関数

### テスト

- 元号フォーマット・パースの包括的なテストケースを追加
- 元号ヘルパー関数のユニットテストを追加
